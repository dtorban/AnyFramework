#------------------------------------------
# Project
#------------------------------------------

project(NanoGUI)

set (SOURCEFILES 
	src/Plugin.cpp
	src/NanoGUIScreen.cpp
	src/NanoGUIWidget.cpp
	src/NanoGUIInterface.cpp
)

set (HEADERFILES
)

#------------------------------------------
# Include Directories
#------------------------------------------

# Include Directories
include_directories (
  src
)

#------------------------------------------
# Download dependencies
#------------------------------------------

# Disable building extras we won't need (pure C++ project)
set(NANOGUI_BUILD_EXAMPLE OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_PYTHON  OFF CACHE BOOL " " FORCE)
set(NANOGUI_INSTALL       OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_SHARED  OFF CACHE BOOL " " FORCE)

# Add the configurations from nanogui
add_subdirectory(nanogui)

# Various preprocessor definitions have been generated by NanoGUI
add_definitions(${NANOGUI_EXTRA_DEFS})

# On top of adding the path to nanogui/include, you may need extras
include_directories(${NANOGUI_EXTRA_INCS})
include_directories(${PROJECT_SOURCE_DIR}/nanogui/include)

set(ALL_LIBS ${ALL_LIBS} nanogui ${NANOGUI_EXTRA_LIBS})

#set(${DepName}_CMAKE_ARGS -DNANOGUI_BUILD_SHARED=OFF -DNANOGUI_BUILD_PYTHON=OFF -DNANOGUI_BUILD_EXAMPLE=OFF -DCMAKE_C_FLAGS=-fPIC -DCMAKE_CXX_FLAGS=-fPIC  -DCMAKE_DEBUG_POSTFIX=d -DCMAKE_CONFIGURATION_TYPES="Debug Release MinSizeRel RelWithDebInfo")
#set(${DepName}_GIT_REPOSITORY "https://github.com/wjakob/nanogui.git")
#set(${DepName}_LIB_NAME nanogui)
#include(${CMAKE_SOURCE_DIR}/third-party/external.cmake)
#include(${CMAKE_SOURCE_DIR}/third-party/OpenGL/OpenGL.cmake)
#include(${CMAKE_SOURCE_DIR}/third-party/CPP11/CPP11.cmake)

#include_directories(
#	${dependency_dir}/${DepName}/build/install/include
#	${dependency_dir}/${DepName}/src/ext/eigen
#	${dependency_dir}/${DepName}/src/ext/glfw/include
#	${dependency_dir}/${DepName}/src/ext/nanovg/src
#)

#ExternalProject_Get_Property(${DepName} NANOGUI_EXTRA_INCS)
#message("aaaaaaaaaaaaaaaaaaaaaa ${NANOGUI_EXTRA_INCS}")

#------------------------------------------
# Plugin
#------------------------------------------

include(${CMAKE_SOURCE_DIR}/third-party/OpenGL/OpenGL.cmake)
include(${CMAKE_SOURCE_DIR}/third-party/CPP11/CPP11.cmake)

# Make into plugin
include(${CMAKE_SOURCE_DIR}/plugins/plugin.cmake)
